<div *ngIf="eventMarketing"class="container">
  <div class="row">
    <div class="col-md-5 col-sm-12">
      <h2 class="more-vertical">
        Update Event Details</h2>
    </div>
    <div class="col-md-5"></div>
    <div align="right" class="col-md-2 justify-content-end">
      <a [routerLink]="['/communicationMarketing/DetailsEvent/',eventMarketing.id]" class="w-25"
         fullWidth nbButton  status="info" shape="round">
        <nb-icon icon="eye-outline"></nb-icon>
      </a>
      <a [routerLink]="['/communicationMarketing/EventMarketing']" class="w-25 mx-3"
         fullWidth nbButton nbTooltip="Back to events list" nbTooltipStatus="primary" outline shape="round" status="basic">
        <nb-icon icon="corner-up-right-outline"></nb-icon>
      </a>
    </div>

  </div>

  <form [formGroup]="EventMarketingGroup">

    <div class="row mt-3">
      <div class="col-md-4 mb-3">
        <nb-card>
          <nb-card-body class="card-body">
            <div class="d-flex flex-column align-items-center text-center">
              <div class="row">
                <img alt=""
                     src="{{eventMarketing.image}}" style="width: 250px;height: 250px;">
                <br>
              </div>
              <div class="row mt-1 mx-1">
                <div class="col-md-5">
                  <button (click)="updateEventFunction()" nbButton shape="round" size="small" status="success">
                    <nb-icon icon="checkmark-outline"></nb-icon>
                  </button>
                </div>

                <div class="col-md-5">
                  <div class="button">
                    <label for="image" nbButton shape="round" size="small" status="primary">
                      <nb-icon class="mt-1" icon="upload-outline"></nb-icon>
                    </label>
                    <input (change)="onFileSelected($event)"
                           autocomplete="off"
                           formControlName="image"
                           id="image"
                           name="image"
                           type="file">
                  </div>
                </div>
              </div>


            </div>
          </nb-card-body>
        </nb-card>


      </div>

      <div class="col-md-8">

        <nb-accordion>
          <nb-accordion-item>
            <nb-accordion-item-header>Event Information</nb-accordion-item-header>
            <nb-accordion-item-body>
   
              

              <div class="form-group row">
                <div class="col-sm-3">
               <p class="mb-0 text-sm">Title</p>
             </div>
             <div class="col-sm-9">
               <input [(ngModel)]="eventMarketing.title"
                      formControlName="title"
                      fullWidth
                      id="title"
                      name="title"
                      nbInput
                      placeholder="title"
                      type="text"
                      required
               />

             </div>
             <div *ngIf="(title.invalid && title.touched)" class="col-lg-11">
              <div *ngIf="title.errors?.required">
                <p class="mt-2 alert alert-danger text-dark text-center" role="alert">Required Field</p>
              </div>
              <div *ngIf="title.errors?.pattern" class="mx-3 w-100">
                <p class="mt-2 alert alert-danger text-dark text-center" role="alert">
                Only characters

 </p>
              </div>
            </div>



           </div>
           <hr>
              <div class="form-group row">
                   <div class="col-sm-3">
                  <p class="mb-0 text-sm">Adress</p>
                </div>
                <div class="col-sm-9">
                  <input [(ngModel)]="eventMarketing.adresse"
                         formControlName="adresse"
                         fullWidth
                         id="adresse"
                         name="adresse"
                         nbInput
                         placeholder="adresse"
                         type="text"
                         required
                         


                  />

                </div>
              </div>
              <hr>
    

        <div class="form-group row">
            <div class="col-sm-3">
                  <p class="mb-0 text-sm">Country</p>
            </div>
             <div class="col-sm-9">
              <nb-select size="large" placeholder="Select Country" [(ngModel)]="eventMarketing.country" 
              class="mt-1" formControlName="country" fullWidth required
                                 id="country" name="country" selected="0">
                        <nb-option disabled value="0">Country</nb-option>
                        <nb-option *ngFor="let country of countries" value="{{country.country_name}}">
                          {{country.country_name}}</nb-option>
                      </nb-select>

             </div>
          </div>

          <hr>
    
          <div class="form-group row">
            <div class="col-sm-3">
                  <p class="mb-0 text-sm">Date</p>
            </div>
             <div class="col-sm-9">
               <input [(ngModel)]="eventMarketing.date"
                      formControlName="date"
                      fullWidth
                      [nbDatepicker]="dateTimePicker"
                      name="date"
                      nbInput
                      placeholder="date"
                      required=""
               />
               <nb-datepicker #dateTimePicker></nb-datepicker>


             </div>
          </div>

          <hr>
    
         <div class="form-group row">
            <div class="col-sm-3">
                  <p class="mb-0 text-sm">Time</p>
            </div>
             <div class="col-sm-9">
               <input [(ngModel)]="eventMarketing.time"
                      formControlName="time"
                      fullWidth
                      id="time"
                      name="time"
                      [nbTimepicker]="timepicker"
                      nbInput
                      placeholder="time"
                      type="text"
                      required
               />
               <nb-timepicker #timepicker></nb-timepicker>


             </div>
          </div>

          <hr>    

          <div class="form-group row">
          <div class="col-sm-3">
            <p class="mb-0 text-sm">number of participants  </p>
            </div>
          <div class="col-sm-9">
         <input [(ngModel)]="eventMarketing.nombre"
                formControlName="nombre"
                fullWidth
                id="nombre"
                name="nombre"
                nbInput
                placeholder="nombre"
                type="number"
                required=
         />

       </div>

       <div *ngIf="(nombre.invalid && nombre.touched)" class="col-lg-11">
        <div *ngIf="nombre.errors?.required">
          <p class="mt-2 alert alert-danger text-dark text-center" role="alert">Required Field</p>
        </div>
        <div *ngIf="title.errors?.pattern" class="mx-3 w-100">
          <p class="mt-2 alert alert-danger text-dark text-center" role="alert">
          ERROR

</p>
        </div>
      </div>
      
      
      
      </div>

       <hr>
    

       <div class="form-group row">
       <div class="col-sm-3">
        <p class="mb-0 text-sm">Price </p>
  </div>
   <div class="col-sm-9">
     <input [(ngModel)]="eventMarketing.prix"
            formControlName="prix"
            fullWidth
            id="prix"
            name="price"
            nbInput
            placeholder="prix"
            type="number"
            required
     />

   </div></div>
   
   <hr>
    
   <div class="form-group row">
   <div class="col-sm-3">
    <p class="mb-0 text-sm">Description </p>
</div>
<div class="col-sm-9">
 <textarea [(ngModel)]="eventMarketing.description"
        formControlName="description"
        fullWidth
        id="description"
        name="description"
        nbInput
        placeholder="description"
        type="String"
 >
 </textarea>

</div>
</div>

        
<button style="float: right;"  nbButton  (click)="updateEventFunction()"  status="success">
  <nb-icon icon="checkmark-circle-outline"></nb-icon>   Save Data 
</button>
</nb-accordion-item-body>
          </nb-accordion-item>
        </nb-accordion>
        <br>
   
        <br>


        <br>


      </div>
    </div>


  </form>
</div>

