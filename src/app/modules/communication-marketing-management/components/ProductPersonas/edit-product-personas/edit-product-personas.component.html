<nb-card>
  <nb-card-header>Select Personas</nb-card-header>
  <nb-card-body>
    <label>Partners</label>
    <div class="row">
      <div class="col-md-11">
          <nb-select nbSelect fullWidth (selectedChange)="selectPersona($event)"
              nbTooltip="Select one or many Personas" nbTooltipStatus="info">
            <nb-option [value]="p" *ngFor="let p of personas">
              <div class="d-flex align-items-center">
                <nb-user [name]="p.image" onlyPicture picture="{{p.image}}"></nb-user>
                <div class="ms-3">
                  <p class=" mb-1">{{p.nom}} {{p.prenom}}</p>
                  <p class=" mb-0">{{p.email}}</p>
                </div>
              </div>

            </nb-option>
            <nb-option>
              <button nbButton (click)="open22Supp(dialog)" status="primary">Create New Persona</button>
            </nb-option>
          </nb-select>
      </div>
      <div class="col-md-1">
         <nb-icon icon="info-outline" 
                  nbTooltip="Please select one or many materials" nbTooltipStatus="primary"></nb-icon>
      </div>
      <ng-template #dialog let-data let-ref="dialogRef">
              <nb-card>
                <nb-card-header>
                  Create New Persona
                </nb-card-header>
               
                <nb-card-footer>
                  <button (click)="ref.close()" class="float-left" nbButton status="primary">
                    Close Window
                  </button>
                </nb-card-footer>
              </nb-card>
            </ng-template>
    </div><br/>
    <div class = "row" *ngIf="selectedPersonas.length > 0">
      <div class = "col-md-11">
     <table class="table mb-0">
      <thead class="bg-light">
       <tr>
        <th>Name</th>
      <th>Domain</th>
      <th>Phone</th>
      <th>Address</th>
      <th>Unselect</th>
           </tr>
      </thead>
     <tbody *ngFor="let p of selectedPersonas">
      <tr class="col-md-9 col-sm-10">
      <td>
    <p class="fw-normal mb-1">
      
      <div class="d-flex align-items-center">
        <nb-user [name]="p.image" onlyPicture picture="{{p.image}}"></nb-user>
        <div class="ms-3">
          <p class=" mb-1">{{p.nom}}</p>
          <p class=" mb-0">{{p.nom}}</p>
        </div>
      </div>
    </td>
    <td><p class="fw-normal mb-1">{{p.nom}}</p></td>
    <td><p class="fw-normal mb-1">{{p.nom}}</p></td>
    <td><p class="fw-normal mb-1">{{p.nom}}  {{p.nom}}    </p></td>
  


        <td>
          <p class="fw-normal mb-1">
            <button style="float: left" nbTooltip="Cancel Partner Selection" 
                    nbTooltipStatus="danger" shape="round" status="danger" 
             nbButton (click)="cancelSelectionPersona(p)">
                 <nb-icon icon="close-outline"></nb-icon>
            </button>
          </p>
        </td>
       </tr>
      </tbody>
     </table>
        </div>
    
    </div>
    <div class="row mt-5">

    </div>
  </nb-card-body>
</nb-card>


<button style="float: right;"  nbButton  (click)="updateFunction()"  status="success">
  <nb-icon icon="checkmark-circle-outline"></nb-icon>   Save Data 
</button>