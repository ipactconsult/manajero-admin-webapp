
<div *ngIf="publication" class="container">
  <div class="row">
    <div class="col-md-5 col-sm-12">
      <h2 class="more-vertical">
        Update Publication Details</h2>
    </div>
    <div class="col-md-5"></div>
    <div align="right" class="col-md-2 justify-content-end">
      <a [routerLink]="['/communicationMarketing/DetailsPublication/',publication.id]" class="w-25" status="primary"
         fullWidth nbButton shape="round">
        <nb-icon icon="eye-outline"></nb-icon>
      </a>
      <a [routerLink]="['/communicationMarketing/Publication']" class="w-25 mx-3"
         fullWidth nbButton nbTooltip="Back to Publication list" nbTooltipStatus="primary" outline shape="round" status="basic">
        <nb-icon icon="corner-up-right-outline"></nb-icon>
      </a>
    </div>

  </div>

  <form [formGroup]="publicationGroup">

    <div class="row mt-3">
      <div class="col-md-4 mb-3">
        <nb-card>
          <nb-card-body class="card-body">
            <div class="d-flex flex-column align-items-center text-center">
              <div class="row">
                <img alt=""
                     src="{{publication.content}}" style="width: 250px;height: 250px;">
                <br>
              </div>
              <div class="row mt-1 mx-1">
                <div class="col-md-5">
                  <button (click)="updateFunction()" nbButton shape="round" size="small" status="success">
                    <nb-icon icon="checkmark-outline"></nb-icon>
                  </button>
                </div>

                <div class="col-md-5">
                  <div class="button">
                    <label for="content" nbButton shape="round" size="small" status="primary">
                      <nb-icon class="mt-1" icon="upload-outline"></nb-icon>
                    </label>
                    <input (change)="onFileSelected($event)"
                           [(ngModel)]="publication.content"
                           autocomplete="off"
                           formControlName="content"
                           id="content"
                           name="content"
                           type="file">
                  </div>
                </div>
              </div>


            </div>
          </nb-card-body>
        </nb-card>


      </div>

      <div class="col-md-8">

        <nb-accordion>
          <nb-accordion-item>
            <nb-accordion-item-header>Publication  Information</nb-accordion-item-header>
            <nb-accordion-item-body>
   
              <hr>

              <div class="form-group row">
                <div class="col-sm-3">
               <p class="mb-0 text-sm">Title</p>
               </div>
             <div class="col-sm-9">
               <input [(ngModel)]="publication.title"
                      formControlName="title"
                      fullWidth
                      id="title"
                      name="title"
                      nbInput
                      placeholder="title"
                      type="text"
               />

                </div>




                <div *ngIf="(title.invalid && title.touched)" class="col-lg-11">
                  <div *ngIf="title.errors?.required">
                    <p class="mt-2 alert alert-danger text-dark text-center" role="alert">Required Field</p>
                  </div>
                  <div *ngIf="title.errors?.pattern" class="mx-3 w-100">
                    <p class="mt-2 alert alert-danger text-dark text-center" role="alert">
                      Only caracters can be
                              accepted
      </p>
                  </div>
                </div>
              </div>

              <div class="form-group row">
                   <div class="col-sm-3">
                  <p class="mb-0 text-sm">hastag</p>
                </div>
                <div class="col-sm-9">
                  <input [(ngModel)]="publication.hastag"
                         formControlName="hastag"
                         fullWidth
                         id="hastag"
                         name="hastag"
                         nbInput
                         placeholder="hastag"
                         type="text"
                  />

                </div>
              </div>





              <div class="form-group row">
                <div class="col-sm-3">
               <p class="mb-0 text-sm">Tags</p>
             </div>
             <div class="col-sm-9">
               <input [(ngModel)]="publication.tags"
                      formControlName="tags"
                      fullWidth
                      id="tags"
                      name="tags"
                      nbInput
                      placeholder="tags"
                      type="text"
               />

             </div>
           </div>










              <div class="form-group row">
                <div class="col-sm-3">
               <p class="mb-0 text-sm">socialMedia</p>
             </div>
             <div class="col-sm-9">
              <nb-select   [(ngModel)]="publication.socialMedia" fieldSize="large" formControlName="socialMedia" 
              fullWidth id="socialMedia" required
              name="socialMedia" placeholder="Where you want to post  " selected="0"
              > 
              
                                           <nb-option disabled value="0">Social MEdia</nb-option>
             
                                             <nb-option value="Instagram">Instagram</nb-option>
                                             <nb-option value="FaceBook">FaceBook</nb-option>
                                             <nb-option value="Twitter">Twitter</nb-option>
                                             <nb-option value="Autre">Autre</nb-option>
            
              
              </nb-select>

             </div>

           </div>



          <div class="form-group row">
                <div class="col-sm-3">
               <p class="mb-0 text-sm">Date</p>
           </div>
             <div class="col-sm-9">
               <input [(ngModel)]="publication.dateDebut"
                      formControlName="dateDebut"
                      fullWidth  requied 
                      id="dateDebut"
                      name="dateDebut"
                      nbInput
                      placeholder="dateDebut"
                      [nbDatepicker]="dateTimePicker"
               />

               <nb-datepicker #dateTimePicker></nb-datepicker>

              </div>
   
           </div>



           <div class="form-group row">
            <div class="col-sm-3">
           <p class="mb-0 text-sm">type</p>
       </div>
         <div class="col-sm-9">
     
          <nb-select   [(ngModel)]="publication.briefingType" fieldSize="large" formControlName="briefingType" 
          fullWidth id="briefingType" required 
          name="briefingType" placeholder="Select  Post Type  " selected="0"
          > 
          
          <nb-option disabled value="0">Type</nb-option>
         
                                         <nb-option value="meme">meme</nb-option>
                                         <nb-option value="Poster">Poster</nb-option>
                                         <nb-option value="Infographics">Infographics</nb-option>
                                         <nb-option value="flyer">flyer</nb-option>
         
          </nb-select>



          </div>

       </div>












           


          <div class="form-group row">
            <div class="col-sm-3">
           <p class="mb-0 text-sm">Description</p>
       </div>
         <div class="col-sm-9">
           <input [(ngModel)]="publication.description"
                  formControlName="description"
                  fullWidth
                  id="description"
                  name="description"
                  nbInput
                  placeholder="description"
                  type="text"
           />
          </div>

       </div>
              

       <button style="float: right;"  nbButton [disabled]="publicationGroup.invalid" (click)=" updateFunction()"  status="success">
        <nb-icon icon="checkmark-circle-outline"></nb-icon>   Save Data
      </button>     

            </nb-accordion-item-body>
          </nb-accordion-item>
        </nb-accordion>
        <br>
    
    
   


        <br>


        <br>


      </div>
    </div>


  </form>
</div>


